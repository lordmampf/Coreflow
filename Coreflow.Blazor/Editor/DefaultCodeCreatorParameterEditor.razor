
<div class="codecreator-parameter-editor">

    @if (CodeCreator != null && CodeCreator is IParametrized parametrized)
    {
        @foreach (var groupingPm in parametrized.GetParameters().GroupBy(p => p.Category))
        {
            <p>@groupingPm.Key</p>

            <table id="codecreator-parameter-editor-table">
                <tr>
                    <th>Parameter</th>
                    <th>Value</th>
                </tr>

                @foreach (var pm in groupingPm)
                {
                    var argument = parametrized.Arguments.First(a => a.Name == pm.Name);

                    <tr data-name="@pm.Name">
                        <td data-toggle="tooltip" title="@pm.Direction @pm.Name @pm.Type">@pm.GetDisplayNameOrName()</td>
                        <td>
                            <CodeEditor @bind-Code="@argument.Code" IsInline="true" />
                        </td>
                    </tr>
                }

            </table>
        }
    }

</div>


@code {

    private ICodeCreator mCodeCreator = null;

    [Parameter]
    public ICodeCreator CodeCreator
    {
        get
        {
            return mCodeCreator;
        }
        set
        {
            mCodeCreator = value;
            StateHasChanged();
        }
    }

    protected override void OnInitialized()
    {
    }

    protected override void OnParametersSet()
    {
  
    }

    public void InvokeStateHasChanged()
    {
        base.StateHasChanged();
    }

}
